#### 9.1 리스트



- 자료의 집합



리스트는 여러 개의 값을 집합적으로 저장한다. 다른 언어의 배열에 해당하며 실제로 배열과 비슷한 방식으로 사용한다. [] 괄호 안에 요소를 콤마로 구분하여 나열함으로써 초기화한다.

```python
score = [88, 65, 23, 78]
name = ["최상미", 99, "김기남"] # 데이터 타입을 섞어 사용해도 무방하다.
```

리스트는 개수의 제한이 없어 얼마든지 많은 변수를 모아서 저장할 수 있다.

리스트에 소속된 각각의 값을 요소(Element) 또는 원소라고 한다. 

```python
score = [88, 65, 100, 12, 34]
sum = 0
for s in score:
    sum += s
print("총점 :", sum)
print("평균 :", sum / len(score))
```

리스트는 하나의 변수에 여러 개의 값을 모아 놓은 것이기 때문에 루프를 돌리면 개별 요소를 쉽게 꺼낼 수 있다.

또한 가변적인 규모에도 쉽게 대응할 수 있다. 저장할 수가 늘어나도 리스트의 요소만 늘리면 될 뿐 변수가 더 필요한 것은 아니다.

빈 리스트는 [] 또는 list() 함수로 만든다. 요소를 전혀 가지지 않는 빈 리스트를 만들어놓고 실행 중에 요소를 추가할 수 있다. list() 함수는 튜플이나 문자열 등 다른 타입을 리스트로 변환할 때도 사용한다.

```python
print(list("korea"))
```

```
출력 내용
['k', 'o', 'r', 'e', 'a']
```



- 리스트의 요소



리스트와 문자열은 비슷하다. 문자열과 비슷한 방법으로 리스트를 읽을 수 있다.

```python
score = [88, 95, 70, 100, 99]
print(score[0])
print(score[3])
print(score[-1])
```

```
출력 내용
88
100
99
```

| 0    | 1    | 2    | 3    | 4    |
| ---- | ---- | ---- | ---- | ---- |
| 88   | 95   | 70   | 100  | 99   |
| -5   | -4   | -3   | -2   | -1   |

즉, 리스트[인덱스]의 형태로 접근 가능하다.

슬라이싱과 비슷하게 

```python
리스트[begin:end:step]
```

을 사용해 일부 요소를 분리할 수 있다.

end는 범위에 포함되지 않는다. end - 1까지가 범위다.

```python
nums = [0,1,2,3,4,5,6,7,8,9]
print(nums[2:5])
print(nums[:4])
print(nums[6:])
print(nums[::-1])
```

```
[2, 3, 4]
[0, 1, 2, 3]
[6, 7, 8, 9]
[9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
```

```python
score = [11, 22, 33, 44]
print(score[2])
score[2] = 55 # 불변 객체인 문자열과 달리 리스트 수정 가능
print(score[2])
```

```
33
55
```

불변 객체인 문자열과 달리 리스트는 수정이 가능하다.

슬라이싱 기법을 사용해 리스트의 내용을 바꿀 수도 있다.

```python
nums = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
nums[2:5] = [20, 30, 40]
print(nums)
nums[6:8] = [90, 91, 92, 93, 94, 95]
print(nums)
```

```
[0, 1, 20, 30, 40, 5, 6, 7, 8, 9]
[0, 1, 20, 30, 40, 5, 90, 91, 92, 93, 94, 95, 8, 9]
```

추가하려는 요소 개수가 같으면, 교체한다. 추가하려는 요소 수가 더 많으면, 기존 내용을 삭제하고 새로운 내용을 추가하는 내용으로 덮어쓴다.

만일 list[6:6]처럼 차이를 주지 않으면 삭제하지 않고 삽입한다.

```python
nums = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
nums[0:0] = ["삭제노", "삽입"]
print(nums)
```

```
['삭제노', '삽입', 0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
```

일정 범위에 대해 빈 리스트를 대입하면 해당 범위의 요소를 모두 삭제한다.

```python
nums = [0,1,2,3,4,5,6]
nums[0:2] = [] # 0, 1 삭제
del nums[3] # [2, 3, 4, 5, 6]에서 [5] 삭제
print(nums)
```

```
[2, 3, 4, 6]
```

부분을 삭제하고 싶다면 슬라이싱 기법을 잉요해 []을 대입하고, 한 요소만 삭제하고 싶다면 del 명령을 사용한다.

+연산자와 *연산자의 동작도 문자열과 같다.

리스트끼리 +연산자로 더하면 두 리스트를 연결한다. 리스트에 정수를 곱하면 요소를 정수 번 반복한다.

```python
list1 = [1, 2, 3, 4, 5]
list2 = [10, 11]
listadd = list1 + list2
print(listadd)
listmulti = list2 * 3
print(listmulti)
```

```
[1, 2, 3, 4, 5, 10, 11]
[10, 11, 10, 11, 10, 11]
```



- 이중 리스트



리스트의 요소에는 제약이 없어서 숫자, 문자열 이외의 리스트 자체도 요소가 될 수 있다.

[] 괄호 안에 또 다른 [] 괄호를 넣으면 된다.

```python
lol = [[1,2,3], [4,5], [6,7,8,9]]
print(lol[0])
print(lol[2][1])

for sub in lol:
    for item in sub:
        print(item, end = " ")
    print()
```

```
[1, 2, 3]
7
1 2 3
4 5
6 7 8 9
```

list[0] -> [1, 2, 3]

list[1] -> [4, 5]

list[2] -> [6, 7, 8, 9]

부분 리스트의 길이나 타입은 일치하지 않아도 된다. 

부분 리스트 안의 정수값 하나를 읽으려면 [] 기호를 두 번 사용해 접근하면 된다.

```python
score = [
    [88, 22, 33, 77],
    [43, 97, 55, 67],
    [11, 100, 25, 89]
]
# 이중 리스트 여러줄 입력 가능

total = 0
totalsub = 0
for student in score:
    sum = 0
    for subject in student:
        sum += subject
    subjects = len(student)
    print("총점 %d, 평균 %.2f" %(sum, sum/subjects))
    total += sum
    totalsub += subjects
print("전체 평균 %.2f" %(total/totalsub))
```

```
총점 220, 평균 55.00
총점 262, 평균 65.50
총점 225, 평균 56.25
전체 평균 58.92
```

수직으로 루프를 돌면서 합계를 구하면 과목별 총점과 평균을 구할 수도 있고 이렇게 구한 총점을 정렬하면 석차도 산출할 수 있다.



- 리스트 컴프리헨션



리스트 안의 요소가 일정한 규칙을 가지는 수열이라면 일일이 나열할 필요 없이 다음 문법으로 요소의 집합을 정의한다.

```python
[수식 for 변수 in 리스트 if 조건]
```

[] 괄호 안에 요소를 생성하는 for문과 if문이 포함되어 있다. 내부의 리스트를 순회하며 각 요소에 대해 수식을 적용하여 최종 요소를 생성해낸다.

if 조건은 그중 일부 요소만 추려내는데 필요없을 시 생략 가능하다.

예를 들어 1~10 원소를 가지는 리스트라면 다음 식으로 선언한다.

```python
[n for n in range(1, 11)] #[1,2,3,4,5,6,7,8,9,10]
# 맨 왼쪽의 n이 n을 요소로 생성한다는 뜻.
# for 뒤의 n은 n을 추출하여
```

for문으로 1에서 10까지 순회하며 n에 순서대로 대입하여 n을 요소로 정의한다.

만일 1~10에 그 배가 되는 값을 가지는 리스트를 얻고 싶다면 다음과 같이 한다.

```python
nums = [n * 2 for n in range(1, 11)]
for i in nums:
    print(i, end = ", ")
```

```
2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 
```

```python
nums = [n * 2 for n in range(1, 11)]
```

은 다음 코드와 같다

```python
nums = []
for n in range(1, 11):
	nums.append(n * 2)
```

일정한 규칙을 갖고 있는 수열이라면 컴프리헨션을 사용하면 간단명료하게 표현이 가능하다.

일정한 조건을 지정하려면 뒤에 if 문을 붙이며 조건이 참인 요소만 리스트에 삽입한다.

1~10의 값 중에 3의 배수만 취하려면 if 문에 n이 3의 배수라는 조건을 작성한다.

```python
[n for n in range(1, 11) if n % 3 == 0] # [3, 6, 9]
[n * n for n in range(1, 11) if n % 3 == 0] # [9, 36, 81]
```



#### 9.2 리스트 관리



- 삽입



리스트는 문자열과 달리 변경 가능하다. [] 괄호와 관리 메서드를 활용하여 요소를 마음대로 편집할 수 있다.

```python
nums = [1, 2, 3, 4]
nums.append(5)
nums.insert(2, 99)
print(nums)
```

```
[1, 2, 99, 3, 4, 5]
```

```python
리스트.append(추가할요소) # 추가할 요소를 리스트의 끝에 덧붙인다.
리스트.insert(삽입할인덱스, 삽입할요소) # 삽입할 요소를 삽입할 인덱스에 넣는다.
```

append는 인수로 전달한 요소를 리스트의 끝에 덧붙여 추가한다.

insert는 삽입할 위치와 요소값을 전달받아 리스트의 중간에 삽입한다.

```python
nums = [1, 2, 3, 4]
nums[2:2] = [90, 91, 92]
print(nums)

nums = [1, 2, 3, 4]
nums[2] = [90, 91, 92] # nums.insert(2, [90, 91, 92])와 같은 효과
print(nums)
```

```
[1, 2, 90, 91, 92, 3, 4]
[1, 2, [90, 91, 92], 4]
```

[2:2] 범위에 3개의 요소를 삽입했다.

반면 [2]번 위치의 요소에 리스트를 대입하는 것은 아예 원소를 2번 자리의 원소를 새롭게 대체한다는 뜻이다.

리스트에 다른 리스트를 추가하여 병합할 때는 extend 메서드를 사용한다.

```python
list1 = [1, 2, 3, 4, 5]
list2 = [10, 11]
list1.extend(list2)
print(list1)
```

```
[1, 2, 3, 4, 5, 10, 11]
```

list3 = list1 + list2와 효과가 같다.

다만 +연산자를 활용할 때는 원본은 유지되지만, extend를 사용하면 list1 자체가 바뀐다.



- 삭제



리스트의 요소를 삭제할 때는 대상을 선택하는 방법에 따라 메서드를 골라 사용한다.


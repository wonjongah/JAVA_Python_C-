#### 15.1 클래스



- 클래스의 정의



객체지향의 가장 기본적인 개념이 클래스이다. 클래스는 관련된 속성과 동작을 하나의 범주로 묶어 실세계의 사물을 흉내낸다.

사물을 분석해 필요한 속성과 동작을 추출하는 것을 모델링이라고 하고, 모델링된 결과를 클래스로 포장하는 것을 캡슐화하고 한다.

```python
balance = 8000

def deposit(money):
    global balance
    balance += money

def inquire():
    print(f"잔액은 {balance}입니다.")

deposit(1000)
inquire()
```

```
잔액은 9000입니다.
```

위의 두 함수는 독립적이다. 만일 계좌가 더 많아지면 누구의 통장인지 구별하고 처리할 수 있을까?

이럴 경우 클래스를 사용해 관리를 하나로 묶어서 한다.

위의 balance, deposit, inquire는 긴밀하게 연관되어 있다.

이렇게 긴밀하게 연관된 정보는 모여 있어야 완벽하게 동작하며 하나의 범주로 묶어야 관리하기 편하다.

이것이 캡슐화이며, 클래스로 묶어 두면 계좌를 쉽게 표현할 수 있다.

캡슐화를 해두면 여러 개의 계좌를 만들기도 쉽다.

계좌가 필요할 때마다 매번 속성과 동작을 새로 만들어야 한느 낭비가 있는데, 캡슐화를 해두면 객체만 만들면 된다.

```python
class Account: # 정의일 뿐 호출해야 사용 가능
    def __init__(self, balance): # 생성자 함수(초기화)
        self.balance = balance # self -> 인스턴스 변수(현재 생성된 인스턴스에 대한 참조, 지금의 인스턴스가 누구냐에 따라 달라짐)
    def deposit(self, money):
        self.balance += money
    def inquire(self):
        print(f"잔액은 {self.balance}입니다.")

sinhan = Account(8000) # 클래스 이름으로 호출 -> 생성자 함수를 통해 초기화(heap에 메모리 잡힘)
sinhan.deposit(1000)
sinhan.inquire()

nonghyup = Account(1200000)
nonghyup.inquire()
```

```
잔액은 9000입니다.
잔액은 1200000입니다.
```

class 키워드로 대문자로 시작하는 이름으로 클래스 정의 -> 사용하기 위해서는 인스턴스(개념이 실체화된 하나하나의 존재) 생성한 뒤 사용

파이썬 내부에서 사용하는 함수를 \_\__함수이름\_\__이라고 정의한다.

함수 이름 -> 함수의 참조를 의미한다.

사물의 속성을 변수로 표현하고 동작은 함수로 표현할 수 있어 클래스로 캡슐화하면 세상의 모든 사물을 다 표현할 수 있다. 

클래스를 구성하는 변수와 함수를 합쳐 멤버라고 통칭하며 클래스에 소속된 함수를 특별히 메서드라고 부른다.



- 생성자



파이썬의 클래스 선언은 다음과 같다.

키워드 class로 시작하고 클래스 이름을 적되 대상을 잘 표현하는 이름을 붙인다.

클래스의 이름은 첫 글자를 대문자로 적는 것이 관행이다.

```python
class 이름:
	def __init__(self, 초기값):
		멤버 초기화
	메서드 정의
```

클래스를 사용해 객체를 생성하려면 클래스를 함수처럼 호출하면 된다.

```python
객체 = 클래스명(인수) # 인수로 초기값 전달
```

\_\_init\_\_ 생성자는 객체를 초기화하는 특수 메서드이다.

특수 메서드란, 앞뒤로 밑줄 두 개가 있는 메서드를 말하며, 용도와 이름이 미리 정해져 있다.

메서드의 첫 번째 인수는 자기 자신을 의미하는 self이며, 멤버 참조 시 self 멤버 구문을 사용한다.

파이썬은 변수를 선언한느 문법이 없어 멤버 변수를 따로 선언하지 않는다.

대신 \_\_init\_\_에서 초기값을 받아 대입하는 형식으로 멤버를 생성한다.

생성자에서 self.멤버 = 초기값 형식으로 대입하면 클래스의 멤버 변수가 된다.

생성자 외 더 필요한 메서드는 아래쪽에 정의한다.

\_\_init\_\_ 생성자와 더불어, \_\_del\_\_ 파괴자도 있으나 파이썬은 메모리 관리가 자동화되어 있어 잘 사용하지 않는다.

메서드는 원하는 만큼 선언할 수 있다.

또한 클래스.메서드(객체) 식으로 호출도 가능하다.

```python
객체.메서드()
클래스.메서드(객체)
```

둘은 같은 표현이다.